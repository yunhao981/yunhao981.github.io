<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Yunhao Liu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="My personal blog including my learning progress.">
<meta property="og:type" content="website">
<meta property="og:title" content="Yunhao Liu">
<meta property="og:url" content="http://yunhao981.github.io/page/24/index.html">
<meta property="og:site_name" content="Yunhao Liu">
<meta property="og:description" content="My personal blog including my learning progress.">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Yunhao Liu">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Yunhao Liu" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Yunhao Liu</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">New Life #Life on Campus</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yunhao981.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-test-infra-days/test-day-13" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/08/19/test-infra-days/test-day-13/" class="article-date">
  <time class="dt-published" datetime="2021-08-19T13:59:26.000Z" itemprop="datePublished">2021-08-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/test/">test</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/08/19/test-infra-days/test-day-13/">test-day-13</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>做 liquibase 和 刷 liquibase 的 pipeline 并不是同一个</p>
<p>做的是在 release 里，只要确认参数和 image 对的上就好了</p>
<p>刷的是要修的，发现漏了 nexus 和 catalog</p>
<p>刚开分支准备动手，在 nucleus/test/build_job.sh 里有个涉及到 deploy liquibase 的部分</p>
<p>想往里面补上 nexus 和 catalog 的部分</p>
<p>结果发现三个月前上一个人把这两个从里面删掉了？？？</p>
<p>明天新的 cut ，todo 估计是赶不上了</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yunhao981.github.io/2021/08/19/test-infra-days/test-day-13/" data-id="cliodcf3b006qhsqm9ldgdr4v" data-title="test-day-13" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/test/" rel="tag">test</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-test-infra-days/test-day-12" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/08/18/test-infra-days/test-day-12/" class="article-date">
  <time class="dt-published" datetime="2021-08-18T08:46:50.000Z" itemprop="datePublished">2021-08-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/test/">test</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/08/18/test-infra-days/test-day-12/">test-day-12</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>今天一来就发现了 nexus 需要 recut，而且test case 败了非常多</p>
<p>最后查明原因是没有 merge 就 build image 了</p>
<p>我理解错了<code>nexus合进551，可以直接release build</code>的意思，认为已经全部merge完毕了</p>
<p>其实只是一个特定的 MR 合并进去了，并没有包含新的 CHG0150419 中所有的改动</p>
<p>下回在 build 之前，一定要确保已经merge了</p>
<p>今天重新进行了参数和状态的检查，nexus 和 nucleus 甚至需要 3rd recut</p>
<p>用fastrun 跑 regression 的时候，可以酌情考虑用 2 - 4 台 Docker Container 来跑，这样可以尽量避免出现因为机器本身原因而导致整体 fail 的状况</p>
<p>今天完成了 Nucleus.solr.exporter 的 build pipeline， 直接在 solr 的 build.groovy 里添加了一部分，照猫画虎，倒也能跑</p>
<p>一个值得注意的细节是，在一段 if-else 里面，如果出现重复定义同名变量的话，只会保留先定义的那个变量值。也就是说，尽量换个名字吧</p>
<p>这几天倒是和脚本打了很多交道，逐渐熟悉了一些</p>
<p>而且自己的 MR 被合并进 release 居然还是挺爽的一件事情</p>
<p>想了想，还是得先搞个 todo list，试试 react 和 node 吧</p>
<p>纯靠短期记忆哪些 Component 的话，太容易出错了</p>
<p>之前的 fast-liquibase issue 还是没有头绪，到处都找不到涉及 Artifactory 的部分，说是在 mvn deploy 的时候会在那里创建对应版本号的文件夹</p>
<p>不知道应该如何解决</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yunhao981.github.io/2021/08/18/test-infra-days/test-day-12/" data-id="cliodcf33005nhsqm8mujh35y" data-title="test-day-12" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/test/" rel="tag">test</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-test-infra-days/test-day-11" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/08/17/test-infra-days/test-day-11/" class="article-date">
  <time class="dt-published" datetime="2021-08-17T08:56:10.000Z" itemprop="datePublished">2021-08-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/test/">test</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/08/17/test-infra-days/test-day-11/">test-day-11</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>一早过来就碰到了 merge conflict，联系了 Yanqin 和 Dev 解决</p>
<p>merge pipeline 所使用的账号权限有点问题，所以没法删除多余分支，Kyle 解决了</p>
<p>也许还会有其他repo，但这回应该是没啥问题了吧</p>
<p>今天又可以去完善下如何解决conflict的那篇文档了</p>
<p>等待 nexus 的 merge 许可花了很久，就导致 regression 发起的时间极其晚</p>
<p>merge nexus -&gt; stg nexus -&gt; stg nucleus -&gt; sanity check</p>
<p>就导致卡了非常久，sanity check 挂了一大片，也着实让我 insane</p>
<p>有一些细节的依赖事项，还是需要整理成文档，这样就明确许多</p>
<p>solr exporter pipeline 明天来写</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yunhao981.github.io/2021/08/17/test-infra-days/test-day-11/" data-id="cliodcf2x004whsqm0skp8y4e" data-title="test-day-11" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/test/" rel="tag">test</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-test-infra-days/test-day-10" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/08/16/test-infra-days/test-day-10/" class="article-date">
  <time class="dt-published" datetime="2021-08-16T07:11:37.000Z" itemprop="datePublished">2021-08-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/test/">test</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/08/16/test-infra-days/test-day-10/">test-day-10</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>坐地铁的时候迷迷糊糊眯了一会，双手交叉握着手机</p>
<p>所以今天右手手腕中心会有点酸痛，有点轻微的腕管综合征迹象</p>
<p>今天修改好了 Nucleus.solr.exporter 的 image tag pattern</p>
<p>和 solr 的几乎一摸一样，但因为修改的分支太旧了，落下了 120 个 commit</p>
<p>所以发生了 merge conflict, 因此需要 rebase</p>
<p>在这上面花了很多时间，所以单独开了篇笔记记录，但以后再碰到类似的事情，就有头绪解决了</p>
<p>另外学到了一个非常酷炫的 bash 脚本写法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ ! -z <span class="variable">$3</span> ] &amp;&amp; chgNumber=<span class="variable">$3</span> || chgNumber=<span class="string">&quot;CHGNULL&quot;</span></span><br></pre></td></tr></table></figure>

<p>判断第三个参数是否为空，若不为空，则将其赋值给 chgNumber</p>
<p>若为空，则将 “CHGNULL” 赋值给 chgNumber</p>
<p>另外更新了Fastrun Daily Tracking</p>
<p>对于各类错误发生的原因，还需要多调查</p>
<p>关于 fast-liquibase pipeline 的修复，还是有点棘手的，没有额外的什么思路</p>
<p>探索了一下 Aritifactory 的 release 部分，通过观察这个 pipeline 出错的参数，可以发现并不是所有的 Repo 其 build image version 都在 Artifactory 上有对应的文件夹，那自然是会报 404 的</p>
<p>修复的思路那就是把它们给补上，但不清楚具体的细节，也要再多问问</p>
<p>朝 Artifactory 创建目录的步骤，是 mvn deploy</p>
<p>那么明天来的下一步就是找到这个 mvn deploy 具体在哪里执行</p>
<p>临时先写了个判断 tarfile 是否存在，若不存在则 exit 1</p>
<p>至少在 wget 没有成功从 Artifactory 处获得 tarfile 的时候，最后不会报个 success 了吧</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yunhao981.github.io/2021/08/16/test-infra-days/test-day-10/" data-id="cliodcf2p003thsqm4gk85csv" data-title="test-day-10" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/test/" rel="tag">test</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-how-to-solve-mr-conflict" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/08/16/how-to-solve-mr-conflict/" class="article-date">
  <time class="dt-published" datetime="2021-08-16T07:08:56.000Z" itemprop="datePublished">2021-08-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/test/">test</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/08/16/how-to-solve-mr-conflict/">如何解决 git 合并冲突</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>同一个文件的同一行，被不同的人修改成了不同的样子</p>
<p>或者是修改了一个文件，另一个人删掉了它</p>
<p>那就不知道哪个才是正确的选项了，到底需要保留哪一个？</p>
<p>如果是自己的项目，个么总归自己决定咯</p>
<p>自己写的东西还能搞出 merge conflict 的也是精分现场了</p>
<p>如果是工作里碰到的，问 Owner 让他们决定留哪一个</p>
<p>总归是能知道要把冲突的文件怎么改的</p>
<p>直接进项目目录，比如说</p>
<p><code>/home/root/code_merge/$&#123;repo&#125;</code></p>
<p>对于 testinfra-master 这台机器上的 code-merge pipeline，</p>
<p>需要用 root 权限来做这些事情</p>
<p><code>git status</code> 看看哪个文件冲突了</p>
<p>如果 pipeline 报错但是 status 没的话</p>
<p>就手动 <code>git checkout release</code> 之后 <code>git merge CHGxxxx</code></p>
<p>然后在对应冲突的文件里找到提示冲突的一大堆箭头</p>
<p>想好怎么改了以后删掉 <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>, <code>=======</code>, <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code></p>
<p>然后 <code>git add .</code> 或者直接 add 改动的文件</p>
<p><code>git commit -m &quot;Resolved merge conflict by xxxxxxx&quot;</code></p>
<p>最后再 merge 或者直接 push 就好了</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yunhao981.github.io/2021/08/16/how-to-solve-mr-conflict/" data-id="ckv7wl6wx000hcct59hnu5190" data-title="如何解决 git 合并冲突" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/test/" rel="tag">test</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-test-infra-days/test-day-9" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/08/14/test-infra-days/test-day-9/" class="article-date">
  <time class="dt-published" datetime="2021-08-13T19:15:21.000Z" itemprop="datePublished">2021-08-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/test/">test</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/08/14/test-infra-days/test-day-9/">test-day-9</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>今天cm cut，自己也体会到了fastrun run failed的感觉</p>
<p>下午又昏过去了一刻钟，要不中午还是趴着睡一会吧</p>
<p>自从开始工作了之后，每天的信息量一下子变大了许多</p>
<p>我也发现了自己短期记忆衰退得居然还挺明显</p>
<p>思考复杂的逻辑的时候反应也完全跟不上</p>
<p>不过至少是比第一天好用一些了</p>
<p>视线模糊的时候，闻到了初中四点三刻快放学的气味</p>
<p>精神恍惚间，又看见了物理课上影分身的摇啊摇和黑板上的咒语</p>
<p>心理状态实在不能说是调整到了最佳状态</p>
<p>虽说倒也不必强求一定是最佳状态</p>
<p>但最起码作息不再全球乱飞了，三餐也可以按时吃</p>
<p>天气好的情况下甚至可以骑车追一把风</p>
<p>说到骑车追风，倒也是从2011年起到现在的执念了</p>
<p>和维持“朋友圈运动达人”的虚假人设毫不相关</p>
<p>我向来也对“心灵净化”“超越自我”这类虚伪的托辞嗤之以鼻</p>
<p>只是因为吹吹风心里会少许舒服一些</p>
<p>每天15km的路程挤两个小时地铁，着实能够让我窒息</p>
<p>只是为了确认到那些微不足道的多巴胺释放</p>
<p>以及我仍旧具备合成5-羟色胺的能力</p>
<p>每天半夜我都会怀疑</p>
<p>自己现在到底踏马的在做些什么事情</p>
<p>自己对于未来究竟有何打算</p>
<p>这么菜的水平，要如何才能够变得不那么菜</p>
<p>21天内提高的方法倒也挺简单，每天翻翻抽屉，看看会不会有蓝胖子跳出来，借我时光机</p>
<p>一无所知啊</p>
<p>工作内容的每一个细节我并不能做到滴水不漏</p>
<p>大学本科的课程还欠下至少3年的青春债</p>
<p>曾经自己熬夜写过的项目，连语言的细节都可以忘得一干二净</p>
<p>7年前英语课上偷偷看 Core Java，只是因为它很有趣的少年</p>
<p>踏马的哪去了？？？</p>
<p>我手里的键盘正在哭泣</p>
<p>我甚至希望自己在时之神殿里拔出了大师之剑，时间快进了7年</p>
<p>平铺直叙的质朴文字，在各类App高密度快节奏的对用户降智打击下，大概也成为了我潜移默化的变化吧</p>
<p>每天中午用食欲掩盖深入内心的空虚与迷茫</p>
<p>不知不觉居然四点了，天蒙蒙亮，饿了</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yunhao981.github.io/2021/08/14/test-infra-days/test-day-9/" data-id="cliodcf6800j8hsqm7utjf4oz" data-title="test-day-9" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/test/" rel="tag">test</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-test-infra-days/test-day-8" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/08/12/test-infra-days/test-day-8/" class="article-date">
  <time class="dt-published" datetime="2021-08-12T10:07:44.000Z" itemprop="datePublished">2021-08-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/test/">test</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/08/12/test-infra-days/test-day-8/">test-day-8</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>更新了 Fastrun Daily Traking，听从James Qian的建议，把一些模糊的错误类型，进一步拆分成了更详细的错误</p>
<p>发现 check health 的问题还是很多</p>
<p>上午例会，对Fastrun究竟是什么有了比较简单的概念</p>
<p>Sync -&gt; Build -&gt; Deploy -&gt; Test</p>
<p>Build test 和 Build Deploy 是并行进行的</p>
<p>下午修改好了 solr 的 image tag pattern，envName 暂时用 local</p>
<p>对于新的 issue，还是需要等待进一步消息</p>
<p>问了问 Yanqin， 有可能是 tar 在解压的时候出错了？</p>
<p>找不到tarfile</p>
<p>那么也有可能是 wget 这一步出错</p>
<p>和tarfile的文件名有关系？</p>
<p>明天再来看看更多细节，还要处理新版本的 cut</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yunhao981.github.io/2021/08/12/test-infra-days/test-day-8/" data-id="cliodcf6000ibhsqm9tpg0opx" data-title="test-day-8" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/test/" rel="tag">test</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-test-infra-days/test-day-7" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/08/11/test-infra-days/test-day-7/" class="article-date">
  <time class="dt-published" datetime="2021-08-11T13:19:27.000Z" itemprop="datePublished">2021-08-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/test/">test</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/08/11/test-infra-days/test-day-7/">test-day-7</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>今天居然改了一整天的 build.sh</p>
<p>只是为了修改 build image 的 release version pattern 就找了半天</p>
<p>对应的时间戳生成的方式完全不一样</p>
<p>还有 CHG number 一开始压根就没有这个参数</p>
<p>甚至还涉及到了 binary release version</p>
<p>压根找不到对应的生成位置</p>
<p>但是引入了新的参数，可能会影响到 Loadtest，所以明天来需要再重新看看</p>
<p>下午晕乎乎的，大概是中饭GI值太高太高了，明天吃河粉或者 wagas 吧</p>
<p>办公室楼下一楼就有一家吃草的店，明天可以试试看</p>
<p>后来还解决了 code-merge-pipeline 的 token 问题</p>
<p>真的就藏在 /var/lib/jenkins/super_secret 里面</p>
<p>然后正式接到了一个新的 issue</p>
<p>需要 fix 一个名为 fast-liquibase 的 Jenkins job</p>
<p>可能是 wget 的命令出错了，也可能是找不到对应的文件，甚至搞不好还是一个 token 问题</p>
<p>我记得之前说是有个网站处在生死边缘，好像正是 artifactory？还是啥别的</p>
<p>反正后来发邮件问了</p>
<p>实在不行的话就还需要多问问 Yanqin Chen 了</p>
<p>还是挺怀念当时实习的小公司，四个人人均 root</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yunhao981.github.io/2021/08/11/test-infra-days/test-day-7/" data-id="cliodcf5u00hkhsqmhovucde0" data-title="test-day-7" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/test/" rel="tag">test</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-js/js-note-ch4" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/08/10/js/js-note-ch4/" class="article-date">
  <time class="dt-published" datetime="2021-08-10T14:41:52.000Z" itemprop="datePublished">2021-08-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/08/10/js/js-note-ch4/">JS 笔记 第 4 章 变量、作用域、内存</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h1><ul>
<li>原始值大小固定，保存在栈内存上</li>
<li>复制原始值至另一个变量，会创建第二个副本</li>
<li>引用值是对象，保存在堆内存上</li>
<li>typeof 确认原始类型，instanceof 确认引用类型</li>
<li>全局上下文只能访问全局上下文中的变量和函数，局部中的数据无法访问</li>
</ul>
<h1 id="4-1-原始值与引用值"><a href="#4-1-原始值与引用值" class="headerlink" title="4.1 原始值与引用值"></a>4.1 原始值与引用值</h1><p>原始值是简单的数据，访问的是值</p>
<p>引用值保存的是多个值的对象，保存的是对象的引用</p>
<p>JS并不能够直接操作内存</p>
<p>字符串是原始值，而不是引用</p>
<p>原始值添加属性并不会报错，但添加完属性还是Undefined</p>
<p>只有引用值可以动态添加属性</p>
<p>把引用值赋给另一个变量的时候，两个变量是对堆内存中同一个对象的指针</p>
<p>传参却只有按值传参</p>
<p>函数的参数是局部变量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">  TODO:</span><br><span class="line"></span><br><span class="line"># 4.2 执行上下文与作用域</span><br><span class="line"></span><br><span class="line">作用域链</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 4.3 垃圾回收</span><br><span class="line"></span><br><span class="line">标记清理</span><br><span class="line"></span><br><span class="line">引用计数</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yunhao981.github.io/2021/08/10/js/js-note-ch4/" data-id="cliodcf2g002khsqmb0zmhbq2" data-title="JS 笔记 第 4 章 变量、作用域、内存" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-test-infra-days/test-day-6" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/08/10/test-infra-days/test-day-6/" class="article-date">
  <time class="dt-published" datetime="2021-08-10T14:20:06.000Z" itemprop="datePublished">2021-08-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/test/">test</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/08/10/test-infra-days/test-day-6/">test-day-6</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>今天忙了一整天 CHG0150416 cut的事情</p>
<p>发现 code-merge-pipeline 依然还是有bug</p>
<p>在 testinfra-master 上找不到 citools 的认证 token</p>
<p>明天来再问问组里的大神们</p>
<p>即便上班工作了，我距离职业的开发者还是远得很</p>
<p>远远不能被称之为 pro 或者 specialist</p>
<p>毕竟也不可能一口气吃成胖子</p>
<p>踏踏实实慢慢学吧</p>
<p>明早过来终于终于终于可以改改代码了</p>
<p>bash脚本，上一次写还是在大三</p>
<p>本来想着，哪天把 hhkb 带去办公室用吧</p>
<p>这份 thock thock 的手感着实令我魂牵梦萦，欲罢不能</p>
<p>从1992年开始继承自 Sun 3 键盘的配列，习惯了之后犹如毒药一般</p>
<p>办公室的ANSI标准配列的键盘已经让我误触频出了……</p>
<p>不得不在软件层面改键，让它适应我的习惯</p>
<p>每天最期待的时候就是回家用自己的键盘写点代码</p>
<p>已经有一种相见恨晚的感觉了</p>
<p>结果发现组里的前端大神用的不过是一块樱桃青轴mx1.0</p>
<p>我相信他们用纸笔写下的代码</p>
<p>都比我的优雅流畅</p>
<p>踏踏实实修炼吧</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yunhao981.github.io/2021/08/10/test-infra-days/test-day-6/" data-id="cliodcf5m00gnhsqm5m7a366i" data-title="test-day-6" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/test/" rel="tag">test</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/23/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/22/">22</a><a class="page-number" href="/page/23/">23</a><span class="page-number current">24</span><a class="page-number" href="/page/25/">25</a><a class="page-number" href="/page/26/">26</a><a class="extend next" rel="next" href="/page/25/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Alogorithm/">Alogorithm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/GitHub/">GitHub</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Test-Infra-Manual/">Test Infra Manual</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/azpr/">azpr</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/csapp/">csapp</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/pintos/">pintos</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/react/">react</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/slackbot/">slackbot</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/softskils/">softskils</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/test/">test</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/typescript/">typescript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/">杂七杂八</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algorithm/" rel="tag">Algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Books/" rel="tag">Books</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GitHub/" rel="tag">GitHub</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OS/" rel="tag">OS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Test-Infra-Manual/" rel="tag">Test Infra Manual</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Test-Infra-Manualtest/" rel="tag">Test Infra Manualtest</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/azpr/" rel="tag">azpr</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/csapp/" rel="tag">csapp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/" rel="tag">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/slackbot-ts-js/" rel="tag">slackbot ts js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/softskils/" rel="tag">softskils</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/test/" rel="tag">test</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/typescript/" rel="tag">typescript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/" rel="tag">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/" rel="tag">杂七杂八</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Algorithm/" style="font-size: 14px;">Algorithm</a> <a href="/tags/Books/" style="font-size: 16px;">Books</a> <a href="/tags/GitHub/" style="font-size: 14px;">GitHub</a> <a href="/tags/Java/" style="font-size: 16px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 16px;">JavaScript</a> <a href="/tags/OS/" style="font-size: 12px;">OS</a> <a href="/tags/Test-Infra-Manual/" style="font-size: 18px;">Test Infra Manual</a> <a href="/tags/Test-Infra-Manualtest/" style="font-size: 10px;">Test Infra Manualtest</a> <a href="/tags/azpr/" style="font-size: 12px;">azpr</a> <a href="/tags/csapp/" style="font-size: 14px;">csapp</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/react/" style="font-size: 12px;">react</a> <a href="/tags/slackbot-ts-js/" style="font-size: 10px;">slackbot ts js</a> <a href="/tags/softskils/" style="font-size: 10px;">softskils</a> <a href="/tags/test/" style="font-size: 20px;">test</a> <a href="/tags/typescript/" style="font-size: 10px;">typescript</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/" style="font-size: 10px;">杂七杂八</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">June 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/06/09/test-infra-days/test-day-382/">test-day-382</a>
          </li>
        
          <li>
            <a href="/2023/06/08/test-infra-days/test-day-381/">test-day-381</a>
          </li>
        
          <li>
            <a href="/2023/06/07/test-infra-days/test-day-380/">test-day-380</a>
          </li>
        
          <li>
            <a href="/2023/05/25/cm-notes/cm-notes/">CM-Notes</a>
          </li>
        
          <li>
            <a href="/2023/03/29/Productivity-Section-2/">Productivity-Section-2</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 Yunhao Liu<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>